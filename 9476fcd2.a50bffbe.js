(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{106:function(e,t,a){e.exports={"mb-1":"mb-1_2POa","mb-2":"mb-2_3cYa","mb-3":"mb-3_DZF_","mb-4":"mb-4_12pn","mb-5":"mb-5_P9jL","mb-auto":"mb-auto_VMpx","mr-1":"mr-1_1Msc","mr-2":"mr-2_24tj","mr-3":"mr-3_163X","mr-4":"mr-4_1GJH","mr-5":"mr-5_2nJG","mr-auto":"mr-auto_15D-","mx-3":"mx-3_2NBd","mx-auto":"mx-auto_1AeV","my-5":"my-5_2iGd",navbar__items:"navbar__items_3E4z","navbar__items--right":"navbar__items--right_14Gg","react-toggle":"react-toggle_3Pka","docusaurus-highlight-code-line":"docusaurus-highlight-code-line_1YBI","row--no-gutters":"row--no-gutters_2qhR",col:"col_3J5d",responsiveImage:"responsiveImage_h5zb",label:"label_2NW3","text-center":"text-center_2VaK","text-left":"text-left_2MrP","table_no-borders":"table_no-borders_qVeG",hidden:"hidden_2oD1","mobile-hidden":"mobile-hidden_3lYD","desktop-hidden":"desktop-hidden_R25c","mobile-only":"mobile-only_ieRx","desktop-only":"desktop-only_3RGT",navbar__logo:"navbar__logo_1_H-","home-hero":"home-hero_2myA","software-container":"software-container_33gj","left-half":"left-half_3fEW","right-half":"right-half_2f8s","column-container":"column-container_2U9X",col1:"col1_1Cdy",col2:"col2_1_Q-",col3:"col3_16uh",alert:"alert_YcJ-",welcome:"welcome_zBKp",container:"container_3erp","margin-vert--xl":"margin-vert--xl_QFfj","button--outline":"button--outline_PTdr",bordered:"bordered_mnJT",intro:"intro_37bY"}},53:function(e,t,a){"use strict";a.r(t);var r=a(0),o=a.n(r),n=a(59),s=a(61),m=a(72),i=a(3),c=a(55),l=a(56),h=a.n(l),u=(a(97),a(73)),d=a(66),p=a(62),g=a(84),_=a(74),y=a(76),f=a(85),b=a(106),w=a.n(b),C=a(107),v=a.n(C),E=function(e){return e.text?o.a.createElement("div",{className:Object(c.a)(w.a.intro,"mx-3","mb-5"),dangerouslySetInnerHTML:{__html:v()(e.text)}}):null},G=a(77),x=a(70),A=a(63),I=a(82),R=function(e){function t(t){var a;a=e.call(this,t)||this;var r=t.match.params.country;a.id=t.match.params.id,a.platformRepo=new A.a(p),a.gatewayRepo=new x.a(p),a.platform=a.platformRepo.getById(a.id);var o=[];r&&(o=a.getGateways(a.platform.getGatewaysIds(),r));var n=a.getRecommended(o);return a.state={gateways:o,country:r,compare:n},a.onChangeCountry=a.onChangeCountry.bind(Object(m.a)(a)),a.onChangeGateway=a.onChangeGateway.bind(Object(m.a)(a)),a.addToCompare=a.addToCompare.bind(Object(m.a)(a)),a.clearAndAddToCompare=a.clearAndAddToCompare.bind(Object(m.a)(a)),a.removeFromCompare=a.removeFromCompare.bind(Object(m.a)(a)),a}Object(i.a)(t,e);var a=t.prototype;return a.componentDidMount=function(){var e=this;this.state.country||this.getCountryByIp().then((function(t){t&&e.props.history.push("/platform/"+h.a.lowerCase(e.id)+"/"+h.a.lowerCase(t))}))},a.componentDidUpdate=function(e,t,a){var r=h.a.get(this,"props.match.params.country");if(h.a.get(e,"match.params.country")!==r){var o=this.getGateways(this.platform.getGatewaysIds(),r),n=this.getRecommended(o);this.setState({country:r,gateways:o,compare:n})}},a.getCountryByIp=function(){var e=new I.a(u.a.ip_stack_api_key);return I.a.getIpAddress().then((function(t){return e.countryCode(t)}))},a.onChangeCountry=function(e){this.props.match.params.country!==e.value&&this.props.history.push("/platform/"+h.a.lowerCase(this.id)+"/"+h.a.lowerCase(e.value))},a.getGateways=function(e,t){return void 0===t&&(t=null),this.gatewayRepo.query().whereIn("id",e).whereIncludes("countries",t?h.a.upperCase(t):null).get()},a.getGatewaysCountries=function(e){var t=new Set,a=this.getGateways(e);return a&&a.forEach((function(e){(e.countries||[]).forEach((function(e){t.add(e)}))})),t},a.getOrdered=function(e){return h.a.orderBy(e,["recommended","name"],["asc","asc"])},a.addToCompare=function(e){var t=[].concat(this.state.compare);t.push(e),this.setState({compare:t})},a.clearAndAddToCompare=function(e){var t=[];t.push(e),this.setState({compare:t})},a.removeFromCompare=function(e){var t=[].concat(this.state.compare);t=h.a.filter(t,(function(t){return t.id!==e.id})),this.setState({compare:t})},a.onChangeGateway=function(e){var t=h.a.find(this.state.gateways,{id:e.value});this.clearAndAddToCompare(t)},a.getECommerces=function(){return this.platformRepo.query().where("type","=","ECOMMERCE").get()},a.getRecommended=function(e){return h.a.filter(e,{recommended:!0})},a.render=function(){return o.a.createElement(n.a,{title:(this.platform||{name:"Shuttle"}).name+" | What payment gateway should I use?"},o.a.createElement("div",{className:"container"})," ",o.a.createElement("div",{className:Object(c.a)("container","my-5")},o.a.createElement(G.a,{img:this.platform.logo,name:this.platform.name,url:this.platform.getWebsite()}),o.a.createElement(E,{text:this.platform.intro}),this.platform.hasGateways()&&o.a.createElement(o.a.Fragment,null,o.a.createElement(_.a,{countries:this.getGatewaysCountries(this.platform.getGatewaysIds()),className:"mb-5",onChange:this.onChangeCountry,value:h.a.upperCase(this.state.country)}),o.a.createElement("hr",null),this.state.country&&o.a.createElement(o.a.Fragment,null,o.a.createElement(f.a,{title:this.platform.name+" supports the following payment processors in "+h.a.find(d,{code:h.a.upperCase(this.state.country)}).name,gateways:this.getOrdered(this.state.gateways),selected:this.state.compare,onShow:this.clearAndAddToCompare,onAddToCompare:this.addToCompare,onRemoveFromCompare:this.removeFromCompare}),o.a.createElement(y.a,{gateways:this.state.gateways,recommendedFirst:!0,value:this.state.compare[0],onChange:this.onChangeGateway,className:"mb-5"}),o.a.createElement(g.a,{platform:this.platform,gateways:this.state.compare,country:this.state.country,ecommerces:this.getECommerces(),className:"mx-auto"})))))},t}(o.a.Component);t.default=function(){var e=Object(s.e)();return o.a.createElement(s.c,null,o.a.createElement(s.b,{path:e.path+"/:id/:country?",component:R}),o.a.createElement(s.b,{path:e.path},o.a.createElement(s.a,{to:"/"})))}}}]);